import{k as d,n as u,p as r,B as l,a as m,A as w,l as f,x as h,g as _}from"./index-43dbed66.js";const k={__name:"UpdatePassword",props:{token:{type:String,required:!0}},setup(o){const n=o,s=d(),c=u({password:r().matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/,"Password must contain at least 8 characters, 1 uppercase letter, 1 lowercase letter, 1 number and 1 special character").required("Please enter your password"),passwordConfirmation:r().oneOf([l("password"),null],"Passwords must match")}),i=[{label:"Password",name:"password",as:"input",type:"password"},{label:"Confirm Password",name:"passwordConfirmation",as:"input",type:"password"}];async function p({password:e},{setErrors:t}){try{const{data:a}=await _("/update-password",{token:n.token,password:e},{method:"PATCH"});s.success(a.message)}catch(a){a.status===422&&t(a.data),s.error("Something went wrong")}}return(e,t)=>(m(),w(h,{"validation-schema":f(c),fields:i,onSubmit:p},null,8,["validation-schema"]))}};export{k as default};
