import{k as d,h as f,n as h,p as s,q as b,a as _,c as y,m as v,l as g,x,F as N,b as q,g as V,y as j,z as k}from"./index-43dbed66.js";const w=q("p",null," Vous voilà enfin prêt à rejoindre Thealty ? Remplissez ce formulaire et rejoignez-nous ! Un membre de notre équipe vous contactera dans les plus brefs délais. ",-1),$={__name:"Join",setup(F){const a=d(),i=f(),c=h({name:s().min(3).max(255).required(),phoneNumber:s().matches(/^\+((?:9[679]|8[035789]|6[789]|5[90]|42|3[578]|2[1-689])|9[0-58]|8[1246]|6[0-6]|5[1-8]|4[013-9]|3[0-469]|2[70]|7|1)(?:\W*\d){0,13}\d$/,"Invalid phone number").required(),receipt:b().required()}),u=[{label:"Name",name:"name",as:"input",type:"text"},{label:"Phone Number",name:"phoneNumber",as:"input",type:"text"},{label:"Receipt",name:"receipt",as:"input",type:"file"}];async function l(n,{setErrors:r}){try{const e=new FormData;for(const[p,o]of Object.entries(n))o&&e.append(p,o);const{data:t}=await V("/join",e,{method:"POST"}),m=t["@id"].split("/").pop();i.push("/theater-group/"+m)}catch(e){if(j(e)){const t=k(e);return r(t)}if(e.status===403)return a.error(e.data["hydra:description"]);a.error("Something went wrong!")}}return(n,r)=>(_(),y(N,null,[w,v(x,{"validation-schema":g(c),fields:u,"on-submit":l},null,8,["validation-schema"])],64))}};export{$ as default};
